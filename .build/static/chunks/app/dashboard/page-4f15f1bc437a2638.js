(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{3068:function(e,t,s){Promise.resolve().then(s.bind(s,5158))},5158:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return D}});var a=s(5444),n=s(9300),r=s(9827),l=s(1335),i=s(2592),o=s(5012);let d=(0,s(2154).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var c=s(4624),u=s(9021),m=s(2422),x=s(9032),f=s(1471),p=s(179),h=s(9530),g=s(7012),j=s(4635),N=s(4693),v=s(5854);function y(e){let{isOpen:t,onClose:s,senderDuty:o,onSwapRequested:d}=e,[c,u]=(0,n.useState)([]),[f,y]=(0,n.useState)(null),[b,w]=(0,n.useState)(""),[D,C]=(0,n.useState)(!1),{toast:k}=(0,v.pm)();(0,n.useEffect)(()=>{t&&R()},[t]);let R=async()=>{try{let e=await fetch("/api/duties/available");if(e.ok){let t=await e.json();u(t.duties)}}catch(e){console.error("Failed to fetch available duties:",e)}},Z=async()=>{if(!f){k({title:"Selection Required",description:"Please select a duty to swap with.",variant:"destructive"});return}C(!0);try{var e,t;let s=await fetch("/api/swap-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({senderDutyId:o.id,targetDutyId:f.id,receiverId:null===(e=f.user)||void 0===e?void 0:e.id,message:b})});if(s.ok)k({title:"Swap Request Sent",description:"Your swap request has been sent to ".concat(null===(t=f.user)||void 0===t?void 0:t.name,".")}),d();else{let e=await s.json();throw Error(e.error||"Failed to send swap request")}}catch(e){k({title:"Request Failed",description:e instanceof Error?e.message:"Failed to send swap request.",variant:"destructive"})}finally{C(!1)}},M=e=>(0,p.WU)(new Date(e),"HH:mm"),S=e=>(0,p.WU)(new Date(e),"MMM dd, yyyy"),O=e=>e.replace("_"," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase());return(0,a.jsx)(h.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(h.cZ,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(h.fK,{children:[(0,a.jsx)(h.$N,{children:"Request Duty Swap"}),(0,a.jsx)(h.Be,{children:"Select a duty to swap with your assignment and send a request to the crew member."})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Your Duty"}),(0,a.jsx)(r.Zb,{className:"border-blue-200 bg-blue-50",children:(0,a.jsx)(r.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-blue-600",children:o.flightNumber}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:S(o.date)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:o.departureLocation}),(0,a.jsx)(x.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:o.arrivalLocation})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"text-sm font-medium",children:[M(o.departureTime)," - ",M(o.arrivalTime)]})})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Available Duties to Swap With"}),0===c.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No available duties found."}):(0,a.jsx)("div",{className:"grid gap-3 max-h-60 overflow-y-auto",children:c.map(e=>{var t,s;return(0,a.jsx)(r.Zb,{className:"cursor-pointer transition-all ".concat((null==f?void 0:f.id)===e.id?"border-green-500 bg-green-50":"hover:border-gray-300"),onClick:()=>y(e),children:(0,a.jsx)(r.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 text-gray-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:e.flightNumber}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:S(e.date)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm",children:e.departureLocation}),(0,a.jsx)(x.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"text-sm",children:e.arrivalLocation})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm font-medium",children:[M(e.departureTime)," - ",M(e.arrivalTime)]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,a.jsx)(N.Z,{className:"w-3 h-3 text-gray-400"}),(0,a.jsx)("span",{className:"text-xs text-gray-600",children:null===(t=e.user)||void 0===t?void 0:t.name}),(0,a.jsx)(l.C,{variant:"secondary",className:"text-xs ml-1",children:O((null===(s=e.user)||void 0===s?void 0:s.role)||"")})]})]})]})})},e.id)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(j._,{htmlFor:"message",className:"text-sm font-medium",children:"Message (Optional)"}),(0,a.jsx)(g.g,{id:"message",value:b,onChange:e=>w(e.target.value),placeholder:"Add a personal message to your swap request...",className:"mt-1",rows:3})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)(m.z,{variant:"outline",onClick:s,children:"Cancel"}),(0,a.jsx)(m.z,{onClick:Z,disabled:!f||D,className:"bg-blue-600 hover:bg-blue-700",children:D?"Sending...":"Send Swap Request"})]})]})]})})}function b(e){let t,s,{duty:o,onSwapRequested:c}=e,[u,h]=(0,n.useState)(!1),g=e=>(0,p.WU)(new Date(e),"HH:mm"),j=(e,t)=>{let s=new Date(e),a=new Date(t).getTime()-s.getTime(),n=Math.floor(a%36e5/6e4);return"".concat(Math.floor(a/36e5),"h").concat(n>0?" ".concat(n,"m"):"")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.Zb,{className:"hover:shadow-lg transition-shadow duration-200 bg-white border border-gray-200",children:[(0,a.jsx)(r.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(i.Z,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ll,{className:"text-lg font-bold text-blue-600",children:o.flightNumber}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:(t=o.date,(0,p.WU)(new Date(t),"EEEE"))})]})]}),(0,a.jsx)(l.C,{variant:"outline",className:"text-sm",children:(s=o.date,(0,p.WU)(new Date(s),"MMM dd, yyyy"))})]})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:g(o.departureTime)}),(0,a.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:o.departureLocation})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1 px-3",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:j(o.departureTime,o.arrivalTime)})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:g(o.arrivalTime)}),(0,a.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:o.arrivalLocation})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-100",children:[(0,a.jsx)(d,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Duration: ",j(o.departureTime,o.arrivalTime)]})]}),(0,a.jsx)("div",{className:"flex gap-2 pt-2",children:(0,a.jsxs)(m.z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>h(!0),children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Request Swap"]})})]})]}),(0,a.jsx)(y,{isOpen:u,onClose:()=>h(!1),senderDuty:o,onSwapRequested:()=>{h(!1),null==c||c()}})]})}var w=s(9047);function D(){let[e,t]=(0,n.useState)(null),[s,m]=(0,n.useState)([]),[x,f]=(0,n.useState)({totalDuties:0,upcomingDuties:0,pendingSwaps:0,completedSwaps:0}),[p,h]=(0,n.useState)(!0),g=(0,w.useRouter)();(0,n.useEffect)(()=>{j(),N(),v()},[]);let j=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let s=await e.json();t(s.user)}else g.push("/login")}catch(e){console.error("Failed to fetch user data:",e),g.push("/login")}},N=async()=>{try{let e=await fetch("/api/duties");if(e.ok){let t=await e.json();m(t.duties)}}catch(e){console.error("Failed to fetch duties:",e)}finally{h(!1)}},v=async()=>{try{let e=await fetch("/api/dashboard/stats");if(e.ok){let t=await e.json();f(t.stats)}}catch(e){console.error("Failed to fetch dashboard stats:",e)}};return!e||p?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(u.Z,{user:e}),(0,a.jsxs)("main",{className:"container max-w-screen-xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e.name]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(l.C,{variant:"secondary",className:"text-sm",children:e.role.replace("_"," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ll,{className:"text-sm font-medium",children:"Total Duties"}),(0,a.jsx)(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:x.totalDuties}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Assigned flights"})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ll,{className:"text-sm font-medium",children:"Upcoming"}),(0,a.jsx)(d,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:x.upcomingDuties}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Next 30 days"})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ll,{className:"text-sm font-medium",children:"Pending Swaps"}),(0,a.jsx)(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:x.pendingSwaps}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Awaiting response"})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ll,{className:"text-sm font-medium",children:"Completed Swaps"}),(0,a.jsx)(i.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:x.completedSwaps}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),"Your Flight Duties"]}),(0,a.jsx)(r.SZ,{children:"Manage your assigned flights and request duty swaps"})]}),(0,a.jsx)(r.aY,{children:0===s.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No duties assigned"}),(0,a.jsx)("p",{className:"text-gray-600",children:"You don't have any flight duties assigned at the moment."})]}):(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(e=>(0,a.jsx)(b,{duty:e,onSwapRequested:()=>{N(),v()}},e.id))})})]})]})]})}},9530:function(e,t,s){"use strict";s.d(t,{$N:function(){return f},Be:function(){return p},Vq:function(){return o},cZ:function(){return m},fK:function(){return x},hg:function(){return d}});var a=s(5444),n=s(9300),r=s(9095),l=s(3485),i=s(5522);let o=r.fC,d=r.xz,c=r.h_;r.x8;let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n})});u.displayName=r.aV.displayName;let m=n.forwardRef((e,t)=>{let{className:s,children:n,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[n,(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.VY.displayName;let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};x.displayName="DialogHeader";let f=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...n})});f.displayName=r.Dx.displayName;let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...n})});p.displayName=r.dk.displayName},4635:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var a=s(5444),n=s(9300),r=s(4100),l=s(2371),i=s(5522);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.f,{ref:t,className:(0,i.cn)(o(),s),...n})});d.displayName=r.f.displayName},7012:function(e,t,s){"use strict";s.d(t,{g:function(){return l}});var a=s(5444),n=s(9300),r=s(5522);let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});l.displayName="Textarea"},9032:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2154).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1471:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2154).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},3485:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(2154).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9095:function(e,t,s){"use strict";s.d(t,{Dx:function(){return es},VY:function(){return et},aV:function(){return ee},dk:function(){return ea},fC:function(){return J},h_:function(){return Q},x8:function(){return en},xz:function(){return G}});var a=s(9300),n=s(5994),r=s(8051),l=s(8788),i=s(455),o=s(838),d=s(3550),c=s(2184),u=s(4569),m=s(271),x=s(7234),f=s(1386),p=s(1148),h=s(2930),g=s(223),j=s(5444),N="Dialog",[v,y]=(0,l.b)(N),[b,w]=v(N),D=e=>{let{__scopeDialog:t,children:s,open:n,defaultOpen:r,onOpenChange:l,modal:d=!0}=e,c=a.useRef(null),u=a.useRef(null),[m=!1,x]=(0,o.T)({prop:n,defaultProp:r,onChange:l});return(0,j.jsx)(b,{scope:t,triggerRef:c,contentRef:u,contentId:(0,i.M)(),titleId:(0,i.M)(),descriptionId:(0,i.M)(),open:m,onOpenChange:x,onOpenToggle:a.useCallback(()=>x(e=>!e),[x]),modal:d,children:s})};D.displayName=N;var C="DialogTrigger",k=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,l=w(C,s),i=(0,r.e)(t,l.triggerRef);return(0,j.jsx)(x.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":U(l.open),...a,ref:i,onClick:(0,n.M)(e.onClick,l.onOpenToggle)})});k.displayName=C;var R="DialogPortal",[Z,M]=v(R,{forceMount:void 0}),S=e=>{let{__scopeDialog:t,forceMount:s,children:n,container:r}=e,l=w(R,t);return(0,j.jsx)(Z,{scope:t,forceMount:s,children:a.Children.map(n,e=>(0,j.jsx)(m.z,{present:s||l.open,children:(0,j.jsx)(u.h,{asChild:!0,container:r,children:e})}))})};S.displayName=R;var O="DialogOverlay",_=a.forwardRef((e,t)=>{let s=M(O,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,r=w(O,e.__scopeDialog);return r.modal?(0,j.jsx)(m.z,{present:a||r.open,children:(0,j.jsx)(E,{...n,ref:t})}):null});_.displayName=O;var E=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=w(O,s);return(0,j.jsx)(p.Z,{as:g.g7,allowPinchZoom:!0,shards:[n.contentRef],children:(0,j.jsx)(x.WV.div,{"data-state":U(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),F="DialogContent",T=a.forwardRef((e,t)=>{let s=M(F,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,r=w(F,e.__scopeDialog);return(0,j.jsx)(m.z,{present:a||r.open,children:r.modal?(0,j.jsx)(I,{...n,ref:t}):(0,j.jsx)(q,{...n,ref:t})})});T.displayName=F;var I=a.forwardRef((e,t)=>{let s=w(F,e.__scopeDialog),l=a.useRef(null),i=(0,r.e)(t,s.contentRef,l);return a.useEffect(()=>{let e=l.current;if(e)return(0,h.Ry)(e)},[]),(0,j.jsx)(W,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=s.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,n.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,n.M)(e.onFocusOutside,e=>e.preventDefault())})}),q=a.forwardRef((e,t)=>{let s=w(F,e.__scopeDialog),n=a.useRef(!1),r=a.useRef(!1);return(0,j.jsx)(W,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,l;null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented||(n.current||null===(l=s.triggerRef.current)||void 0===l||l.focus(),t.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:t=>{var a,l;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(r.current=!0));let i=t.target;(null===(l=s.triggerRef.current)||void 0===l?void 0:l.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})}),W=a.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:l,onCloseAutoFocus:i,...o}=e,u=w(F,s),m=a.useRef(null),x=(0,r.e)(t,m);return(0,f.EW)(),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.M,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:l,onUnmountAutoFocus:i,children:(0,j.jsx)(d.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":U(u.open),...o,ref:x,onDismiss:()=>u.onOpenChange(!1)})}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(X,{titleId:u.titleId}),(0,j.jsx)($,{contentRef:m,descriptionId:u.descriptionId})]})]})}),V="DialogTitle",Y=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=w(V,s);return(0,j.jsx)(x.WV.h2,{id:n.titleId,...a,ref:t})});Y.displayName=V;var z="DialogDescription",P=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=w(z,s);return(0,j.jsx)(x.WV.p,{id:n.descriptionId,...a,ref:t})});P.displayName=z;var A="DialogClose",L=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=w(A,s);return(0,j.jsx)(x.WV.button,{type:"button",...a,ref:t,onClick:(0,n.M)(e.onClick,()=>r.onOpenChange(!1))})});function U(e){return e?"open":"closed"}L.displayName=A;var H="DialogTitleWarning",[B,K]=(0,l.k)(H,{contentName:F,titleName:V,docsSlug:"dialog"}),X=e=>{let{titleId:t}=e,s=K(H),n="`".concat(s.contentName,"` requires a `").concat(s.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(s.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(s.docsSlug);return a.useEffect(()=>{t&&!document.getElementById(t)&&console.error(n)},[n,t]),null},$=e=>{let{contentRef:t,descriptionId:s}=e,n=K("DialogDescriptionWarning"),r="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(n.contentName,"}.");return a.useEffect(()=>{var e;let a=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");s&&a&&!document.getElementById(s)&&console.warn(r)},[r,t,s]),null},J=D,G=k,Q=S,ee=_,et=T,es=Y,ea=P,en=L},4100:function(e,t,s){"use strict";s.d(t,{f:function(){return i}});var a=s(9300),n=s(7234),r=s(5444),l=a.forwardRef((e,t)=>(0,r.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l}},function(e){e.O(0,[251,737,240,983,386,156,744],function(){return e(e.s=3068)}),_N_E=e.O()}]);